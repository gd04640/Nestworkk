<!DOCTYPE html>
<html>
<head>
    <title>My Submissions ‚Äì Nestwork</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">

    <!-- ‚≠ê Load seed data BEFORE any script runs -->
    <script src="seed.js"></script>
</head>
<body>

    <h1>My Submissions</h1>

    <div class="navbar">
        <a href="homeowner-dashboard.html">üè† Dashboard</a>
        <a href="add-new-room.html">‚ûï Add New Room</a>
        <a href="my-submissions.html">üìù My Submissions</a>
    </div>

    <div class="container" id="list"></div>

    <script>
        // ‚≠ê Load submissions from localStorage (includes seed data)
        let submissions = JSON.parse(localStorage.getItem("submissions")) || [];

        const listDiv = document.getElementById("list");

        if (submissions.length === 0) {
            listDiv.innerHTML = "<p>No submissions yet.</p>";
        }

        submissions.forEach((item, index) => {
            const card = document.createElement("div");
            card.className = "card";

            card.innerHTML = `
                <strong>${item.roomName}</strong><br>
                <p><b>Size:</b> ${item.roomSize}</p>
                <p><b>Description:</b> ${item.roomDesc}</p>
                <p><b>Status:</b> ${item.status}</p>

                <button onclick="editSubmission(${index})">Edit</button>
                <button onclick="deleteSubmission(${index})">Delete</button>
            `;

            listDiv.appendChild(card);
        });

        function deleteSubmission(i) {
            submissions.splice(i, 1);
            localStorage.setItem("submissions", JSON.stringify(submissions));
            location.reload();
        }

        function editSubmission(i) {
            alert("Edit feature coming soon!");
        }
    </script>

</body>
</html>
