<!DOCTYPE html>
<html>
<head>
    <title>Review Submission ‚Äì Designer</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Review Submission</h1>

<div class="navbar">
    <a href="designer-dashboard.html">üè† Dashboard</a>
    <a href="designer-pending.html">Pending</a>
    <a href="designer-completed.html">Completed</a>
</div>

<div class="container">
    <div id="reviewBox"></div>
</div>

<script>
    const submission = JSON.parse(localStorage.getItem("currentReview"));
    const allSubs = JSON.parse(localStorage.getItem("submissions")) || [];

    const div = document.getElementById("reviewBox");

    div.innerHTML = `
        <div class="card">
            <h2>${submission.roomName}</h2>
            <p><b>Size:</b> ${submission.roomSize}</p>
            <p><b>Description:</b> ${submission.roomDesc}</p>

            <label>Add Designer Notes:</label>
            <textarea id="notes" placeholder="Write notes..."></textarea>

            <button onclick="save()">Save Review</button>
        </div>
    `;

    function save() {
        const notes = document.getElementById("notes").value;

        const match = allSubs.find(s => s.roomName === submission.roomName);
        match.notes = notes;
        match.status = "Completed Review";

        localStorage.setItem("submissions", JSON.stringify(allSubs));

        alert("Review saved!");
        window.location.href = "designer-completed.html";
    }
</script>

</body>
</html>
